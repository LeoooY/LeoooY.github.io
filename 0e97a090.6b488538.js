(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{228:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return O}));var r=n(0),c=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var b=c.a.createContext({}),p=function(e){var t=c.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},i=function(e){var t=p(e.components);return c.a.createElement(b.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},u=c.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,b=s(e,["components","mdxType","originalType","parentName"]),i=p(n),u=r,O=i["".concat(o,".").concat(u)]||i[u]||d[u]||a;return n?c.a.createElement(O,l(l({ref:t},b),{},{components:n})):c.a.createElement(O,l({ref:t},b))}));function O(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var b=2;b<a;b++)o[b]=n[b];return c.a.createElement.apply(null,o)}return c.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},62:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return p}));var r=n(2),c=n(6),a=(n(0),n(228)),o={},l={unversionedId:"System/Linux/\u914d\u7f6essr,v2ray\u670d\u52a1/index",id:"System/Linux/\u914d\u7f6essr,v2ray\u670d\u52a1/index",isDocsHomePage:!1,title:"index",description:"1 \u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177",source:"@site/docs/System/Linux/\u914d\u7f6essr,v2ray\u670d\u52a1/index.md",slug:"/System/Linux/\u914d\u7f6essr,v2ray\u670d\u52a1/index",permalink:"/docs/System/Linux/\u914d\u7f6essr,v2ray\u670d\u52a1/index",version:"current"},s=[{value:"1 \u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177",id:"1-\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177",children:[]},{value:"\u914d\u7f6e<code>shadowsocks</code>",id:"\u914d\u7f6eshadowsocks",children:[]},{value:"\u914d\u7f6e\u7cfb\u7edf\u670d\u52a1",id:"\u914d\u7f6e\u7cfb\u7edf\u670d\u52a1",children:[]},{value:"\u5ba2\u6237\u7aef\u8fde\u63a5",id:"\u5ba2\u6237\u7aef\u8fde\u63a5",children:[]},{value:"\u51fa\u95ee\u9898",id:"\u51fa\u95ee\u9898",children:[]},{value:"\u914d\u7f6ev2ray",id:"\u914d\u7f6ev2ray",children:[]},{value:"\u914d\u7f6ecdn\u4e2d\u8f6c",id:"\u914d\u7f6ecdn\u4e2d\u8f6c",children:[]},{value:"\u670d\u52a1\u5668\u5f00\u542fGoogle BBR",id:"\u670d\u52a1\u5668\u5f00\u542fgoogle-bbr",children:[]},{value:"\u901f\u5ea6\u6d4b\u8bd5",id:"\u901f\u5ea6\u6d4b\u8bd5",children:[]},{value:"vultr\u4ece\u5feb\u7167\u521b\u5efa\u4fee\u6539\u5bc6\u7801",id:"vultr\u4ece\u5feb\u7167\u521b\u5efa\u4fee\u6539\u5bc6\u7801",children:[]},{value:"\u914d\u7f6enginx+tls+ws+cdn",id:"\u914d\u7f6enginxtlswscdn",children:[]}],b={rightToc:s};function p(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h3",{id:"1-\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177"},"1 \u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"epel")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"python-pip"),"   \u7528\u4e8e\u4e0b\u8f7d",Object(a.b)("inlineCode",{parentName:"li"},"shadowsocks")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"shadowsocks"),"   \u4e3b\u8981\u5de5\u5177")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"yum install -y epel-release\nyum install -y python-pip\n// yum clean all  \u5b89\u88c5\u5b8c\u6210\u540e\u6e05\u9664cache\n\npip install --upgrade **pip**\npip install shadowsocks \n")),Object(a.b)("h3",{id:"\u914d\u7f6eshadowsocks"},"\u914d\u7f6e",Object(a.b)("inlineCode",{parentName:"h3"},"shadowsocks")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"vim /etc/shadowsocks.json       //\u521b\u5efa\u5e76\u7f16\u8f91\n")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),'\u5185\u5bb9\uff1a\n{\n  "server": "0.0.0.0",                  //\u51680\u4ee3\u8868\u670d\u52a1\u5668\u76d1\u6240\u6709\u53ef\u7528\u7f51\u7edc\u3002\n  "server_port": 10086,                 //\u670d\u52a1\u5668\u7aef\u53e3\u53f7\uff0c1025\u523065535\u3002\n  "password": "xxxxxxxxxxxxxx",         //\u8bbe\u7f6e\u767b\u5f55\u5bc6\u7801\u3002\n  "method": "aes-256-cfb"               //\u52a0\u5bc6\u65b9\u5f0f\u3002\n}\n\n{\n  "server": "0.0.0.0",\n  "server_port": 10086, \n  "password": "xxxxxxxxxxxxxx",\n  "method": "aes-256-cfb"\n}\n')),Object(a.b)("h3",{id:"\u914d\u7f6e\u7cfb\u7edf\u670d\u52a1"},"\u914d\u7f6e\u7cfb\u7edf\u670d\u52a1"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"\u540e\u53f0\u542f\u52a8: ssserver -c /etc/shadowsocks.json -d start\n\u540e\u53f0\u505c\u6b62\uff1assserver -c /etc/shadowsocks.json -d stop\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"\u914d\u7f6e\u542f\u52a8\u811a\u672c")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"vim /etc/systemd/system/shadowsocks.service\n")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"# \u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff1a\n[Unit]\nDescription=Shadowsocks\n\n[Service]\nTimeoutStartSec=0\nExecStart=/usr/bin/ssserver -c /etc/shadowsocks.json\n\n[Install]\nWantedBy=multi-user.target\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"\u542f\u52a8",Object(a.b)("inlineCode",{parentName:"li"},"shadowsocks"),"\u670d\u52a1")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"systemctl enable shadowsocks\nsystemctl start shadowsocks\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"\u67e5\u770b",Object(a.b)("inlineCode",{parentName:"li"},"shadowsocks"),"\u72b6\u6001")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"systemctl status shadowsocks -l\n")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"\u9632\u706b\u5899\nfirewall-cmd --permanent --add-port=12006/tcp\nfirewall-cmd --zone=public --remove-port=12006/tcp --permanent\nfirewall-cmd --zone=public --remove-port=10000-20000/tcp --permanent\nfirewall-cmd --reload\nfirewall-cmd --zone=public --list-ports # \u67e5\u770b\u5f00\u653e\u7684\u7aef\u53e3\n\nnetstat -lnpt # \u67e5\u770b\u76d1\u542c\u7684\u7aef\u53e3\n")),Object(a.b)("h3",{id:"\u5ba2\u6237\u7aef\u8fde\u63a5"},"\u5ba2\u6237\u7aef\u8fde\u63a5"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"shadowsock\u5ba2\u6237\u7aef\n\u6839\u636e\u914d\u7f6e\u586b\u5199",Object(a.b)("inlineCode",{parentName:"li"},"\u670d\u52a1\u5668\u5730\u5740(\u516c\u7f51ip)"),"\u3001",Object(a.b)("inlineCode",{parentName:"li"},"\u7aef\u53e3"),"\u3001",Object(a.b)("inlineCode",{parentName:"li"},"\u5bc6\u7801"),"\u3001",Object(a.b)("inlineCode",{parentName:"li"},"\u52a0\u5bc6\u65b9\u5f0f"),"\u7b49\uff0c\u7136\u540e\u8fde\u63a5\u5373\u53ef\n\u5168\u5c40\u4ee3\u7406\u65b9\u6848\uff1a\u8bbe\u7f6eproxy\u5c06sock\u8f6c\u5230http/https\u7b49")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"sudo apt install privoxy\n\nsudo vim /etc/privoxy/config\n# 1336\u884c forward-socks5t / 127.0.0.1:1080\n\nservice privoxy status|start|restart\n\n# privoxy\u7684\u9ed8\u8ba4\u5986\u53d1\u7aef\u53e3\u4e3a8118\nexport http_proxy='http://localhost:8118'\nexport https_proxy='https://localhost:8118'\n\n# curl www.google.com\n# \u6d4b\u8bd5\u4e00\u4e0b\n")),Object(a.b)("p",null,"\u6d4f\u89c8\u5668\u65b9\u6848\uff1aswitchOmega"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"# Rule list\u5bfc\u5165\nhttps://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt\n\n# \u5f00\u542fsslocal\nsslocal -c /etc/shadowsocks.json\n\n# siwtch omega\u8f6c\u53d1127.0.0.1:1080 socket5\n\n# \u6d4b\u8bd5google.com\n")),Object(a.b)("h3",{id:"\u51fa\u95ee\u9898"},"\u51fa\u95ee\u9898"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"\u68c0\u67e5\u7aef\u53e3/\u6362\u7aef\u53e3"),Object(a.b)("li",{parentName:"ul"},"\u68c0\u67e5ip/\u52a0\u5bc6/\u914d\u7f6e\u6587\u4ef6"),Object(a.b)("li",{parentName:"ul"},"\u68c0\u67e5\u9632\u706b\u5899"),Object(a.b)("li",{parentName:"ul"},"\u68c0\u67e5\u5165/\u51fa\u7ad9\u89c4\u5219")),Object(a.b)("p",null,"\u4e0d\u597d\u4f7f\uff1a\u6362\u7aef\u53e3"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.fakemark.cn/untitled-1495200524323.html"}),"openssl\u5347\u7ea7\u5bfc\u81f4\u7684shadowsocks\u62a5\u9519\u95ee\u9898"))),Object(a.b)("p",null,Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://bwh88.net/"}),"https://bwh88.net/"),"\nvultr.com\nSserverLeo97*"),Object(a.b)("p",null,Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://blog.sprov.xyz/2019/03/11/cdn-v2ray-safe-proxy/"}),"https://blog.sprov.xyz/2019/03/11/cdn-v2ray-safe-proxy/")),Object(a.b)("h3",{id:"\u914d\u7f6ev2ray"},"\u914d\u7f6ev2ray"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.v2ray.com/"}),"V2Ray\uff08\u5df2\u88ab\u5899\uff09")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://toutyrater.github.io/"}),"V2Ray"))),Object(a.b)("p",null,"id: 3d840fe5-a16a-4ffd-9064-e1c26be31dea"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"# \u5df2\u88ab\u5899\nbash <(curl -L -s https://install.direct/go.sh)\nsnap install v2ray\n")),Object(a.b)("p",null,"\u5ba2\u6237\u7aef\u914d\u7f6e\uff08\u5df2\u90e8\u7f72\u7684\uff09"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),'{\n  "inbounds": [{\n    "port": 1080,\n    "listen": "127.0.0.1",\n    "protocol": "socks",\n    "settings": {\n        "upd":true\n\n    }\n  }],\n  "outbounds": [{\n    "protocol": "vmess",\n    "settings": {\n        "vnext":[{\n                "address": "144.202.65.124",\n                "port":12006,\n                "users":[{"id":"3d840fe5-a16a-4ffd-9064-e1c26be31dea"}]\n        }]\n    }\n  },{\n    "protocol": "freedom",\n    "settings": {},\n    "tag": "direct"\n  }],\n  "routing": {\n    "rules": [\n      {\n        "type": "field",\n        "ip": ["geoip:private"],\n        "outboundTag": "blocked"\n      }\n    ]\n  }\n}\n\n')),Object(a.b)("h3",{id:"\u914d\u7f6ecdn\u4e2d\u8f6c"},"\u914d\u7f6ecdn\u4e2d\u8f6c"),Object(a.b)("h3",{id:"\u670d\u52a1\u5668\u5f00\u542fgoogle-bbr"},"\u670d\u52a1\u5668\u5f00\u542fGoogle BBR"),Object(a.b)("p",null,"\u5f00\u542f"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"echo 'net.core.default_qdisc=fq' | sudo tee -a /etc/sysctl.conf\necho 'net.ipv4.tcp_congestion_control=bbr' | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n")),Object(a.b)("p",null,"\u9a8c\u8bc1"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"sudo sysctl net.ipv4.tcp_available_congestion_control\n# \u8f93\u51fa\u5e94\u4e3a echo 'net.ipv4.tcp_congestion_control=bbr' | sudo tee -a/etc/sysctl.conf\n\nsudo sysctl -n net.ipv4.tcp_congestion_control\n# \u8f93\u51fa\u5e94\u4e3a bbr\n\nlsmod | grep bbr\n# \u8f93\u51fa\u5e94\u7c7b\u4f3c tcp_bbr          20480  2 \n")),Object(a.b)("h3",{id:"\u901f\u5ea6\u6d4b\u8bd5"},"\u901f\u5ea6\u6d4b\u8bd5"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"https://www.vultr.com/resources/faq/#downloadspeedtests\nnewyork 500kb-600kb\natlanta 400kb\nchicago 300kb \u63d0\u901f\u6162\nmiami  30kb\nseattle  100kb\ndalas 40-400\nsingapore 40kb\n\u52a0\u62ff\u5927 400kb\n\u65e5\u672c 40-500 \u4e0d\u7a33\u5b9a\n\u6cd5\u56fd 500-600kb\n")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"1.\npip install speedtest-cli\n\nor\n\n2.\nwget https://raw.github.com/sivel/speedtest-cli/master/speedtest.py\nchmod -R 777 speedtest.py\nmv speedtest.py /usr/local/bin/speedtest\nchown root:root /usr/local/bin/speedtest\n\n# \u6d4b\u8bd5\u6240\u6709\u4e2d\u56fd\u7684\u670d\u52a1\u5668\nspeedtest-cli --list | grep China\n\n# --server\u53d6\u4e0a\u9762\u670d\u52a1\u5668\u5217\u8868\u5bf9\u5e94id\nspeedtest-cli --server=16503 --share\n")),Object(a.b)("h3",{id:"vultr\u4ece\u5feb\u7167\u521b\u5efa\u4fee\u6539\u5bc6\u7801"},"vultr\u4ece\u5feb\u7167\u521b\u5efa\u4fee\u6539\u5bc6\u7801"),Object(a.b)("p",null,Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.vultr.com/docs/boot-into-single-user-mode-reset-root-password"}),"Access Single User Mode (Reset Root Password)")),Object(a.b)("h3",{id:"\u914d\u7f6enginxtlswscdn"},"\u914d\u7f6enginx+tls+ws+cdn"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"\u57df\u540d"),Object(a.b)("li",{parentName:"ul"},"Cloudflare \u514d\u8d39cdn"),Object(a.b)("li",{parentName:"ul"},"v2ray")),Object(a.b)("p",null,"nginx \u8f6c ws"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),'location /magic {                                                     #\u4e0eV2Ray\u914d\u7f6e\u4e2dWS\u7684path\u4fdd\u6301\u4e00\u81f4\n       proxy_redirect off;\n       proxy_pass http://127.0.0.1:12006;                                #\u7aef\u53e3\u4e0eV2Ray\u670d\u52a1\u5668\u914d\u7f6e\u4e2d\u7684\u76d1\u542c\u7aef\u53e3port\u4fdd\u6301\u4e00\u81f4\n       proxy_http_version 1.1;\n       proxy_set_header Upgrade $http_upgrade;\n       proxy_set_header Connection "upgrade";\n       proxy_set_header Host $host;\n       proxy_set_header X-Real-IP $remote_addr;\n       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    }\n}\n')))}p.isMDXComponent=!0}}]);